<!-- RegEx-->

 
  <div class="w3-row w3-white">
 

<h1>What is <span class="color_h1">RegEx in Python?</span></h1>
 
<p class="intro">A RegEx, or Regular Expression, is a sequence of characters that forms a search pattern.</p>
<p class="intro">RegEx can be used to check if a string contains the specified search pattern.</p>
<hr>

<h2>RegEx Module</h2>

<p>Python has a built-in package called <code class="w3-codespan">re</code>, which can be used to work with 
Regular Expressions.</p>

<p>Import the <code class="w3-codespan">re</code> module:</p>

<div class="w3-Sample">
  <div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonkeywordcolor" style="color:mediumblue">import</span> re </span></div>
</div>

<hr>

<h2>RegEx in Python</h2>

<p>When you have imported the <code class="w3-codespan">re</code> module, you 
can start using regular expressions:</p>

<div class="w3-Sample">
   <p>Search the string to see if it starts with "The" and ends with "Spain":</p>
  <div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>    <span class="pythonkeywordcolor" style="color:mediumblue">import</span> <span class="pythonnumbercolor" style="color:red">
</span>    re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.search(<span class="pythonstringcolor" style="color:brown">"^The.*Spain$"</span>, txt) </span></div>
 </div>


<hr>
<h2>RegEx Functions</h2>

<p>The <code class="w3-codespan">re</code> module offers a set of functions that allows 
us to search a string for a match:</p>

<table class="ws-table-all notranslate">
<tbody><tr>
<th style="width:120px">Function</th>
<th>Description</th>
</tr>
<tr>
<td> findall</a></td>
<td>Returns a list containing all matches</td>
</tr>
<tr>
<td> search</a></td>
<td>Returns a Match object</a> if there is a match anywhere in the string</td>
</tr>
<tr>
<td> split</a></td>
<td>Returns a list where the string has been split at each match </td>
</tr>
<tr>
<td> sub</a></td>
<td>Replaces one or many matches with a string</td>
</tr>
</tbody></table>
 
<h2>Metacharacters</h2>

<p>Metacharacters are characters with a special meaning:</p>

<table class="ws-table-all notranslate">
<tbody><tr>
<th style="width:120px">Character</th>
<th>Description</th>
<th style="width:120px">Sample</th>
 </tr>
<tr>
<td>[]</td>
<td>A set of characters</td>
<td>"[a-m]"</td>
 </tr>
<tr>
<td>\</td>
<td>Signals a special sequence (can also be used to escape special characters)</td>
<td>"\d"</td>
 </tr>
<tr>
<td>.</td>
<td>Any character (except newline character)</td>
<td>"he..o"</td>
 </tr>
<tr>
<td>^</td>
<td>Starts with</td>
<td>"^hello"</td>
 </tr>
  <tr>
<td>$</td>
<td>Ends with</td>
<td>"planet$"</td>
   </tr>
  <tr>
<td>*</td>
<td>Zero or more occurrences</td>
<td>"he.*o"</td>
   </tr>
  <tr>
<td>+</td>
<td>One or more occurrences</td>
<td>"he.+o"</td>
   </tr>
  <tr>
<td>?</td>
<td>Zero or one occurrences</td>
<td>"he.?o"</td>
   </tr>
  <tr>
<td>{}</td>
<td>Exactly the specified number of occurrences</td>
<td>"he.{2}o"</td>
   </tr>
  <tr>
<td>|</td>
<td>Either or</td>
<td>"falls|stays"</td>
   </tr>
  <tr>
<td>()</td>
<td>Capture and group</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
  </tr>
</tbody></table>
<hr>

<h2>Special Sequences</h2>

<p>A special sequence is a <code class="w3-codespan">\</code> followed by one of the characters in the list below, and has a special meaning:</p>

<table class="ws-table-all notranslate">
<tbody><tr>
<th style="width:120px">Character</th>
<th>Description</th>
<th style="width:120px">Sample</th>
 </tr>
<tr>
<td>\A</td>
<td>Returns a match if the specified characters are at the beginning of the 
string</td>
<td>"\AThe"</td>
 </tr>
  <tr>
<td>\b</td>
<td>Returns a match where the specified characters are at the beginning or at the 
end of a word<br>(the "r" in the beginning is making sure that the string is 
being treated as a "raw string")</td>
<td>r"\bain"<br>r"ain\b"</td>
   </tr>
  <tr>
<td>\B</td>
<td>Returns a match where the specified characters are present, but NOT at the beginning 
(or at 
the end) of a word<br>(the "r" in the beginning is making sure that the string 
is being treated as a "raw string")</td>
<td>r"\Bain"<br>r"ain\B"</td>
   </tr>
  <tr>
<td>\d</td>
<td>Returns a match where the string contains digits (numbers from 0-9)</td>
<td>"\d"</td>
   </tr>
  <tr>
<td>\D</td>
<td>Returns a match where the string DOES NOT contain digits</td>
<td>"\D"</td>
   </tr>
  <tr>
<td>\s</td>
<td>Returns a match where the string contains a white space character</td>
<td>"\s"</td>
   </tr>
  <tr>
<td>\S</td>
<td>Returns a match where the string DOES NOT contain a white space character</td>
<td>"\S"</td>
   </tr>
  <tr>
<td>\w</td>
<td>Returns a match where the string contains any word characters (characters from 
a to Z, digits from 0-9, and the underscore _ character)</td>
<td>"\w"</td>
   </tr>
  <tr>
<td>\W</td>
<td>Returns a match where the string DOES NOT contain any word characters</td>
<td>"\W"</td>
   </tr>
<tr>
<td>\Z</td>
<td>Returns a match if the specified characters are at the end of the string</td>
<td>"Spain\Z"</td>
 </tr>
</tbody></table>

<hr>

<h2>Sets</h2>

<p>A set is a set of characters inside a pair of square brackets <code class="w3-codespan">
[]</code> with a special meaning:</p>

<table class="ws-table-all notranslate">
<tbody><tr>
<th style="width:120px">Set</th>
<th>Description</th>
 </tr>
  <tr>
<td>[arn]</td>
<td>Returns a match where one of the specified characters (<code class="w3-codespan">a</code>,
<code class="w3-codespan">r</code>, or <code class="w3-codespan">n</code>) is 
present</td>
   </tr>
  <tr>
<td>[a-n]</td>
<td>Returns a match for any lower case character, alphabetically between
<code class="w3-codespan">a</code> and <code class="w3-codespan">n</code></td>
   </tr>
  <tr>
<td>[^arn]</td>
<td>Returns a match for any character EXCEPT <code class="w3-codespan">a</code>,
<code class="w3-codespan">r</code>, and <code class="w3-codespan">n</code></td>
   </tr>
  <tr>
<td>[0123]</td>
<td>Returns a match where any of the specified digits (<code class="w3-codespan">0</code>,
<code class="w3-codespan">1</code>, <code class="w3-codespan">2</code>, or <code class="w3-codespan">
3</code>) are 
present</td>
   </tr>
  <tr>
<td>[0-9]</td>
<td>Returns a match for any digit between
<code class="w3-codespan">0</code> and <code class="w3-codespan">9</code></td>
   </tr>
<tr>
<td>[0-5][0-9]</td>
<td>Returns a match for any two-digit numbers from <code class="w3-codespan">00</code> and <code class="w3-codespan">
59</code></td>
 </tr>
  <tr>
<td>[a-zA-Z]</td>
<td>Returns a match for any character alphabetically between
<code class="w3-codespan">a</code> and <code class="w3-codespan">z</code>, lower case OR upper case</td>
   </tr>
  <tr>
<td>[+]</td>
<td>In sets, <code class="w3-codespan">+</code>, <code class="w3-codespan">*</code>,
<code class="w3-codespan">.</code>, <code class="w3-codespan">|</code>,
<code class="w3-codespan">()</code>, <code class="w3-codespan">$</code>,<code class="w3-codespan">{}</code> 
has no special meaning, so <code class="w3-codespan">[+]</code> means: return a match for any
<code class="w3-codespan">+</code> character in the string</td>
   </tr>
</tbody></table>

<hr>
<div style="position:absolute;margin-top:-70px;"> &nbsp;</a></div>
<h2>The findall() Function</h2>
<p>The <code class="w3-codespan">findall()</code> function returns a list containing all matches.</p>
<div class="w3-Sample">
<h3>Sample</h3>
<p>Print a list of all matches:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.findall(<span class="pythonstringcolor" style="color:brown">"ai"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  txt)<br><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(x) </span></div>
 </div>

<p>The list contains the matches in the order they are found.</p>
<p>If no matches are found, an empty list is returned:</p>

<div class="w3-Sample">
<h3>Sample</h3>
<p>Return an empty list if no match was found:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.findall(<span class="pythonstringcolor" style="color:brown">"Portugal"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  txt)<br><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(x) </span></div>
 </div>

<hr>
<div style="position:absolute;margin-top:-70px;"> &nbsp;</a></div>
<h2>The search() Function</h2>
<p>The <code class="w3-codespan">search()</code> function searches the string 
for a match, and returns a Match object</a> if there is a 
match.</p>
<p>If there is more than one match, 
only the first occurrence of the match will be returned:</p>
<div class="w3-Sample">
<h3>Sample</h3>
<p>Search for the first white-space character in the string:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.search(<span class="pythonstringcolor" style="color:brown">"\s"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  txt)<br><span class="pythonnumbercolor" style="color:red">
</span>  <br><span class="pythonkeywordcolor" style="color:mediumblue">print</span>(<span class="pythonstringcolor" style="color:brown">"The first white-space character is located in 
  position:"</span>, x.start())  </span></div>
 </div>

<p>If no matches are found, the value <code class="w3-codespan">None</code> is returned:</p>

<div class="w3-Sample">
<h3>Sample</h3>
<p>Make a search that returns no match:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.search(<span class="pythonstringcolor" style="color:brown">"Portugal"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  txt)<br><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(x) </span></div>
 </div>

<hr>

<div style="position:absolute;margin-top:-70px;"> &nbsp;</a></div>
<h2>The split() Function</h2>
<p>The <code class="w3-codespan">split()</code> function returns a list where 
the string has been split at each match:</p>
<div class="w3-Sample">
<h3>Sample</h3>
<p>Split at each white-space character:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.split(<span class="pythonstringcolor" style="color:brown">"\s"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  txt)<br><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(x) </span></div>
 </div>

<p>You can control the number of occurrences by specifying the 
<code class="w3-codespan">maxsplit</code> 
parameter:</p>

<div class="w3-Sample">
<h3>Sample</h3>
<p>Split the string only at the first occurrence:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.split(<span class="pythonstringcolor" style="color:brown">"\s"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  txt, <span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonnumbercolor" style="color:red">1</span>)<br><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(x) </span></div>
 </div>

<hr>
<div style="position:absolute;margin-top:-70px;"> &nbsp;</a></div>
<h2>The sub() Function</h2>
<p>The <code class="w3-codespan">sub()</code> function replaces the matches with 
the text of your choice:</p>
<div class="w3-Sample">
<h3>Sample</h3>
<p>Replace every white-space character with the number 9:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.sub(<span class="pythonstringcolor" style="color:brown">"\s"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonstringcolor" style="color:brown">"9"</span>, txt)<br><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(x) </span></div>
 </div>

<p>You can control the number of replacements by specifying the
<code class="w3-codespan">count</code> 
parameter:</p>

<div class="w3-Sample">
<h3>Sample</h3>
<p>Replace the first 2 occurrences:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.sub(<span class="pythonstringcolor" style="color:brown">"\s"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonstringcolor" style="color:brown">"9"</span>, txt, <span class="pythonnumbercolor" style="color:red">2</span>)<br><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(x) </span></div>
 </div>

<hr>

<div style="position:absolute;margin-top:-70px;"> &nbsp;</a></div>
<h2>Match Object</h2>

<p>A Match Object is an object containing information 
about the search and the result.</p>

<div class="w3-panel w3-note">
  <p><strong>Note:</strong> If there is no match, the value <code class="w3-codespan">None</code> will be 
returned, instead of the Match Object.</p>
</div>

<div class="w3-Sample">
<h3>Sample</h3>
<p>Do a search that will return a Match Object:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br>txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br>x = re.search(<span class="pythonstringcolor" style="color:brown">"ai"</span>, <span class="pythonnumbercolor" style="color:red">
</span>  txt)<br><span class="pythonnumbercolor" style="color:red">
</span>  <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(x) <span class="commentcolor" style="color:green">#this will print an object </span></span></div>
 </div>

<p>The Match object has properties and methods used to retrieve information 
about the search, and the result:</p>

<p>
<code class="w3-codespan">.span()</code> returns a tuple containing the start-, and end positions of the match.<br>
<code class="w3-codespan">.string</code> returns the string passed into the function<br>
<code class="w3-codespan">.group()</code> returns the part of the string where there was a match<br>
</p>

<div class="w3-Sample">
  <h3>Sample</h3>
<p>Print the position (start- and end-position) of the first match occurrence.</p>
  <p>The regular expression looks for any words that starts with an upper case 
  "S":</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>    <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br><span class="pythonnumbercolor" style="color:red">
</span>    txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br><span class="pythonnumbercolor" style="color:red">
</span>    x = re.search(r<span class="pythonstringcolor" style="color:brown">"\bS\w+"</span>, txt)<br><span class="pythonnumbercolor" style="color:red">
</span>    <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(<strong>x.span()</strong>) </span></div>
 </div>

<div class="w3-Sample">
  <h3>Sample</h3>
<p>Print the string passed into the function:</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>    <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br><span class="pythonnumbercolor" style="color:red">
</span>    txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br><span class="pythonnumbercolor" style="color:red">
</span>    x = re.search(r<span class="pythonstringcolor" style="color:brown">"\bS\w+"</span>, txt)<br><span class="pythonnumbercolor" style="color:red">
</span>    <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(<strong>x.string</strong>) </span></div>
 </div>

<div class="w3-Sample">
  <h3>Sample</h3>
<p>Print the part of the string where there was a match.</p>
  <p>The regular expression looks for any words that starts with an upper case 
  "S":</p>
<div class="w3-code notranslate pythonHigh"><span class="pythoncolor" style="color:black"><span class="pythonnumbercolor" style="color:red">
</span>    <span class="pythonkeywordcolor" style="color:mediumblue">import</span> re<br><br><span class="pythonnumbercolor" style="color:red">
</span>    txt = <span class="pythonstringcolor" style="color:brown">"The rain in Spain"</span><br><span class="pythonnumbercolor" style="color:red">
</span>    x = re.search(r<span class="pythonstringcolor" style="color:brown">"\bS\w+"</span>, txt)<br><span class="pythonnumbercolor" style="color:red">
</span>    <span class="pythonkeywordcolor" style="color:mediumblue">print</span>(<strong>x.group()</strong>) </span></div>
 </div>
<div class="w3-panel w3-note">
  <p><strong>Note:</strong> If there is no match, the value <code class="w3-codespan">None</code> will be 
returned, instead of the Match Object.</p>
</div>
 