<link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.css" />
<script src="./../../common/vendor/datatables/jquery.dataTables.js"></script>

<style>
    #password-strength-status {
        padding: 5px 10px;
        border-radius: 4px;
        margin-top: 5px;
    }
    
    .medium-password {
        background-color: #fd0;
    }
    
    .weak-password {
        background-color: #FBE1E1;
    }
    
    .strong-password {
        background-color: #D5F9D5;
    }
</style>

<h1 class="h3 mb-2 text-gray-800">Admin Accounts</h1>
<p class="mb-4">This page contains list of admin accounts.</p>


<div class="card shadow mb-4">
    <div class="card-header">
        <div class="row justify-content-between">
            <div class="col-4 align-middle">
                <h6 class="m-0 font-weight-bold text-primary align-middle mt-2">Admin List</h6>
            </div>
            <div class="col-2 text-right">
                <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#modal-new-admin"><i class="fas fa-plus"></i> Add New Admin</button>
            </div>
        </div>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-lg-12 text-right">

            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-striped" id="dataTable" width="100%" cellspacing="0">
                <colgroup>
                    <col width="10%">
                    <col width="20%">
                    <col width="30%">
                    <col width="8%">
                    <col width="5%">
                </colgroup>
                <thead>
                    <tr>
                        <th>Admin ID</th>
                        <th>Full Name</th>
                        <th>Username</th>
                        <th>Email Address</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tfoot>
                    <tr>
                        <th>Admin ID</th>
                        <th>Full Name</th>
                        <th>Username</th>
                        <th>Email Address</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </tfoot>
                <tbody id="tableBody">
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-info-admin" tabindex="-1" role="dialog" aria-labelledby="modal-info-admin-label" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="color: #333;">Admin Information</h5>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-label">Admin ID:</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-id-badge"></i></span>
                                </div>
                                <input type="text" class="form-control" id="modal-body-admin-id" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="form-group">
                            <label class="form-label">Username:</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                                </div>
                                <input type="text" class="form-control" id="modal-body-admin-user-name" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-12">
                        <div class="form-group">
                            <label class="form-label">Full Name:</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                                </div>
                                <input type="text" class="form-control" id="modal-body-admin-name" readonly>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-12">
                        <div class="form-group">
                            <label class="form-label">Email:</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                </div>
                                <input type="email" class="form-control" id="modal-body-admin-email" readonly>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" id="button-close">Close</button>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="modal-edit-admin" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="color: #333;">Update Admin Information</h5>
            </div>
            <form action="" id="form-update-admin" class="container">
                <div class="modal-body">
                    <div class="row form">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label for="modal-body-edit-admin-id" class="form-label">Admin ID:</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-id-card"></i></span>
                                    </div>
                                    <input type="text" id="modal-body-edit-admin-id" class="form-control" required disabled readonly>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </div>

                        <div class="col-lg-8">
                            <div class="form-group">
                                <label for="modal-body-edit-user-name" class="form-label">Username:</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-user"></i></span>
                                    </div>
                                    <input type="text" id="modal-body-edit-user-name" class="form-control" required>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </div>

                        <div class="col-lg-12">
                            <div class="form-group">
                                <label for="modal-body-edit-name" class="form-label">Full Name:</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-user"></i></span>
                                    </div>
                                    <input type="text" id="modal-body-edit-name" class="form-control" required>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="modal-body-edit-email" class="form-label">Email:</label>
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                    </div>
                                    <input type="email" id="modal-body-edit-email" class="form-control" required>
                                </div>
                                <div class="invalid-feedback"></div>
                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="form-group">
                                <label for="modal-body-edit-status" class="form-label">Status:</label>
                                <select id="modal-body-edit-status" class="form-control" required>
                                    <option value="0">Inactive</option>
                                    <option value="1">Active</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" id="button-close">Close</button>
                    <button type="submit" class="btn btn-primary">Update</button>
                </div>
            </form>

        </div>
    </div>
</div>


<div class="modal fade" id="modal-new-admin" tabindex="-1" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" style="color: black !important;">Add New Admin</h5>
            </div>
            <form id="form-admin-create-account" class="needs-validation">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group mb-3">
                                <label class="form-label" for="input-name">Full Name</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                                    <input type="text" id="input-name" class="form-control" placeholder="Enter Full Name" required />
                                </div>
                                <div class="invalid-feedback">Please enter your full name.</div>
                            </div>
                        </div>


                        <div class="col-lg-6">
                            <div class="form-group mb-3">
                                <label class="form-label" for="input-username">Username</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                                    <input type="text" id="input-username" class="form-control" placeholder="Enter Username" required />
                                    <div class="invalid-feedback" id="helpertext-username">Username already taken.</div>
                                </div>

                            </div>
                        </div>

                        <div class="col-lg-6">
                            <div class="form-group mb-3">
                                <label class="form-label" for="input-email">Email Address</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                    <input type="email" id="input-email" class="form-control" placeholder="Enter Email Address" required />
                                    <div class="invalid-feedback" id="helpertext-email">Email address already taken.</div>
                                </div>

                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group mb-3">
                                <label class="form-label" for="input-password">Password</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                    <input type="password" name="input-password" id="input-password" class="full-width form-control" placeholder="Enter Password" required autocomplete="new-password" onkeyup="checkPasswordStrength();" />
                                    <div id="password-strength-status"></div>
                                </div>
                                <div class="invalid-feedback" id="helpertext-password">Please enter a valid password.</div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group mb-4">
                                <label class="form-label" for="input-confirm-password">Confirm Password</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                    <input type="password" id="input-confirm-password" class="form-control" placeholder="Enter Confirm Password" required />
                                    <div class="invalid-feedback">Passwords do not match.</div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal" id="button-close">Close</button>
                    <button type="submit" class="btn btn-primary">Create</button>
                </div>
            </form>

        </div>
    </div>
</div>

<script>
    function checkPasswordStrength() {
        var number = /([0-9])/;
        var alphabets = /([a-zA-Z])/;
        var special_characters = /([~,!,@,#,$,%,^,&,*,-,_,+,=,?,>,<])/;
        var password = $("#input-password").val().trim();
        if (password.length < 6) {
            $('#password-strength-status').removeClass();
            $('#password-strength-status').addClass('weak-password');
            $('#password-strength-status').html("Weak (should be atleast 6 characters.)");
            $('#input-password').addClass('is-invalid');
            return false;
        } else {
            if (password.match(number) && password.match(alphabets) && password.match(special_characters)) {
                $('#password-strength-status').removeClass();
                $('#password-strength-status').addClass('strong-password');
                $('#password-strength-status').html("Strong");
                $('#input-password').removeClass('is-invalid');
                return true;
            } else {
                $('#password-strength-status').removeClass();
                $('#password-strength-status').addClass('medium-password');
                $('#password-strength-status').html("Medium (should include alphabets, numbers and special characters.)");
                $('#input-password').addClass('is-invalid');
                return false;
            }
        }
    }

    $(document).ready(function() {
        var adminList;
        retrieveAdminList();

        $("#input-confirm-password").on("blur", function() {
            var newPassword = $("#input-password").val();
            var confirmPassword = $("#input-confirm-password").val();
            if (newPassword != confirmPassword) {
                $("#input-confirm-password").addClass('is-invalid');
            } else {
                $("#input-confirm-password").removeClass('is-invalid');
            }
        });

        $('#modal-new-admin').on('shown.bs.modal', function() {
            var email = $('#input-email').val('');
            var username = $('#input-username').val('');
            var name = $('#input-name').val('');
            var password = $('#input-password').val('');
            var confirmPassword = $('#input-confirm-password').val('');
        });

        $("#form-update-admin").on("submit", function(event) {
            event.preventDefault();

            var adminId = $("#modal-body-edit-admin-id").val();
            var username = $('#modal-body-edit-user-name').val();
            var fullName = $('#modal-body-edit-name').val();
            var email = $('#modal-body-edit-email').val();
            var status = $('#modal-body-edit-status').val();

            $.ajax({
                url: "./../../common/db.php",
                type: "POST",
                data: {
                    action: 'update-admin-record',
                    adminID: adminId,
                    userName: username,
                    name: fullName,
                    email: email,
                    status: status
                },
                cache: false,
                success: function(dataResult) {
                    var dataResult = JSON.parse(dataResult);

                    if (dataResult.statusCode.includes(5002)) {
                        $("#modal-body-edit-user-name").addClass('is-invalid');
                        $("#modal-body-edit-user-name").next('.invalid-feedback').html("This username has already been used!");
                    } else {
                        $("#modal-body-edit-user-name").removeClass('is-invalid');
                        $("#modal-body-edit-user-name").next('.invalid-feedback').html("");
                    }

                    if (dataResult.statusCode.includes(5003)) {
                        $("#modal-body-edit-email").addClass('is-invalid');
                        $("#modal-body-edit-email").next('.invalid-feedback').html("This email has already been used!");
                    } else {
                        $("#modal-body-edit-email").removeClass('is-invalid');
                        $("#modal-body-edit-email").next('.invalid-feedback').html("");
                    }

                    if (dataResult.statusCode.includes(200)) {
                        retrieveAdminList();
                        Swal.fire({
                            icon: 'success',
                            title: 'Success',
                            text: 'Admin record updated successfully!',
                        });
                        $('#modal-edit-admin').modal('toggle');
                    } else if (dataResult.statusCode.includes(201)) {
                        swalErrorNotification();
                    }
                },
                beforeSend: function() {
                    console.log('Request is about to be sent');
                },
                error: function(xhr, status, error) {
                    console.error('Error:', error);
                },
                complete: function() {
                    console.log('Request is complete');
                }
            });
        });

        $("#dataTable").on('click', '.view-data', function() {
            var currentRow = $(this).closest("tr");
            var adminID = currentRow.find("td:eq(0)").html();
            $.each(adminList, function(key, admin) {
                console.log(admin);
                console.log(adminID == admin['adminID']);
                if (adminID == admin['adminID']) {
                    $('#modal-body-admin-id').html(admin['adminID']);
                    $('#modal-body-admin-name').html(admin['name']);
                    $('#modal-body-admin-user-name').html(admin['username']);
                    $('#modal-body-admin-email').html(admin['email']);
                    $('#modal-info-picture').html(admin['picture']);
                    $('#modal-info-admin').modal('toggle');
                    return;
                }
            });

            $("#modal-info-admin").modal("show");
        });

        $("#dataTable").on('click', '.edit_data', function() {
            var currentRow = $(this).closest("tr");
            var adminID = currentRow.find("td:eq(0)").html();
            $.each(adminList, function(key, admin) {
                console.log(admin);
                console.log(adminID == admin['adminID']);
                if (adminID == admin['adminID']) {
                    $('#modal-body-edit-admin-id').val(admin['adminID']);
                    $('#modal-body-edit-name').val(admin['name']);
                    $('#modal-body-edit-user-name').val(admin['username']);
                    $('#modal-body-edit-email').val(admin['email']);
                    $("#modal-body-edit-status").val(admin['status']).change();
                    $('#modal-edit-admin').modal('toggle');
                    return;
                }
            });
        });

        function deleteAdmin(studentID) {
            $.ajax({
                url: "../../common/db.php",
                type: "POST",
                data: {
                    action: 'delete-admin',
                    adminID: studentID,
                },
                cache: false,
                success: function(dataResult) {
                    var dataResult = JSON.parse(dataResult);
                    if (dataResult.statusCode != 200) {
                        swalErrorNotification();
                    }

                    Swal.fire(
                        'Deleted!',
                        `The admin with ID ${studentID} has been deleted.`,
                        'success'
                    );

                    retrieveAdminList();
                },
                beforeSend: function() {
                    // Code to be executed before the request is sent
                    console.log('Request is about to be sent');
                },
                error: function(xhr, status, error) {
                    // Code to be executed if there is an error
                    console.error('Error:', error);
                },
                complete: function() {
                    // Code to be executed after the request is complete (success, error, or abort)
                    console.log('Request is complete');
                }
            });
        }

        $("#dataTable").on('click', '.delete_data', function() {
            var currentRow = $(this).closest("tr");
            var adminID = currentRow.find("td:eq(0)").html();
            $.each(adminList, function(key, admin) {
                console.log(admin);
                console.log(adminID == admin['adminID']);
                if (adminID == admin['adminID']) {
                    Swal.fire({
                        title: 'Are you sure?',
                        text: `You are about to delete the admin with ID: ${admin['adminID']}. This action cannot be undone.`,
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#d33',
                        cancelButtonColor: '#3085d6',
                        confirmButtonText: 'Yes, delete it!'
                    }).then((result) => {
                        // If the user confirms, perform the delete action
                        if (result.isConfirmed) {
                            // Call your delete function or make an AJAX request here
                            // For example, you can call a function like deleteStudent() and handle the logic there
                            deleteAdmin(admin['adminID']);
                        }
                    });
                }
            });
        });

        $("#form-admin-create-account").on("submit", function(event) {
            event.preventDefault();
            var hasError = false;
            var email = $('#input-email').val();
            var username = $('#input-username').val();
            var name = $('#input-name').val();
            var password = $('#input-password').val();
            var confirmPassword = $('#input-confirm-password').val();
            let regex = /[a-zA-Z0-9.-]+@bulsu\.edu\.ph/i;

            if (password != confirmPassword) {
                $("#input-password").addClass('is-invalid');
                $("#input-confirm-password").addClass('is-invalid');
                $("#btnCreateAccount").removeAttr("disabled", "disabled");
                hasError = true;
            } else {
                $("#input-password").removeClass('is-invalid');
                $("#input-confirm-password").removeClass('is-invalid');
            }

            if (!checkPasswordStrength()) {
                return;
            }

            // if (!regex.test(email)) {
            //     $("#helpertext-email").html("Invalid email format, please us your BULSU email");
            //     $("#input-email").addClass('is-invalid');
            //     hasError = true;
            // } else {
            //     $("#input-email").removeClass('is-invalid');
            // }

            if (!hasError) {
                $("#btnCreateAccount").attr("disabled", "disabled");
                $.ajax({
                    url: "./../../common/db.php",
                    type: "POST",
                    data: {
                        action: 'create-admin-account',
                        email: email,
                        username: username,
                        name: name,
                        password: password
                    },
                    cache: false,
                    success: function(dataResult) {
                        var dataResult = JSON.parse(dataResult);

                        if (dataResult.statusCode.includes(5002)) {
                            $("#helpertext-username").html("This username was already been used!");
                            $("#input-username").addClass('is-invalid');
                        } else {
                            $("#input-username").removeClass('is-invalid');
                        }

                        if (dataResult.statusCode.includes(5003)) {
                            $("#helpertext-email").html("This email was already been used!");
                            $("#input-email").addClass('is-invalid');
                        } else {
                            $("#input-email").removeClass('is-invalid');
                        }

                        if (dataResult.statusCode.includes(200)) {
                            retrieveAdminList();
                            Swal.fire({
                                icon: 'success',
                                title: 'Success',
                                text: 'Admin record updated successfully!',
                            });
                            $('#modal-new-admin').modal('toggle');
                        } else if (dataResult.statusCode.includes(201)) {
                            swalErrorNotification();
                        }
                        $("#btnCreateAccount").removeAttr("disabled", "disabled");
                    },
                    beforeSend: function() {
                        // Code to be executed before the request is sent
                        console.log('Request is about to be sent');
                    },
                    error: function(xhr, status, error) {
                        // Code to be executed if there is an error
                        console.error('Error:', error);
                    },
                    complete: function() {
                        // Code to be executed after the request is complete (success, error, or abort)
                        console.log('Request is complete');
                    }
                });
            }
        });

        function updateAccountStatus(userID, status) {
            $.ajax({
                url: "../../common/db.php",
                type: "POST",
                data: {
                    action: 'update-account-status',
                    userID: userID,
                    status: status
                },
                cache: false,
                success: function(dataResult) {
                    var dataResult = JSON.parse(dataResult);
                    retrieveAdminList();
                },
                beforeSend: function() {
                    // Code to be executed before the request is sent
                    console.log('Request is about to be sent');
                },
                error: function(xhr, status, error) {
                    // Code to be executed if there is an error
                    console.error('Error:', error);
                },
                complete: function() {
                    // Code to be executed after the request is complete (success, error, or abort)
                    console.log('Request is complete');
                }
            });
        }

        function retrieveAdminList() {
            $.ajax({
                url: "../../common/db.php",
                type: "POST",
                data: {
                    action: 'retrieve-admin-list'
                },
                cache: false,
                success: function(dataResult) {
                    var dataResult = JSON.parse(dataResult);
                    var adminData = "";
                    if (dataResult.statusCode != 201) {
                        adminList = dataResult;
                        $.each(dataResult, function(key, admin) {

                            adminData = adminData.concat("<tr>",
                                populateTableData(admin['adminID']),
                                populateTableData(admin['name']),
                                populateTableData(admin['username']),
                                populateTableData(admin['email']),
                                populateTableData(admin['status'] == 0 ? "Inactive" : "Active"),
                                populateTableData(`
                                <button type="button" class="btn btn-flat btn-default btn-sm dropdown-toggle dropdown-icon" data-toggle="dropdown">
                                  Action<span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <div class="dropdown-menu" role="menu">
                                    <a class="dropdown-item view_data " href="javascript:void(0)" data-id="${admin['adminID']}"><span class="fa fa-eye text-primary"></span> View</a>
                                    <div class="dropdown-divider "></div>
                                    <a class="dropdown-item edit_data " href="javascript:void(0)" data-id="${admin['adminID']}"><span class="fa fa-edit text-success"></span> Edit</a>
                                    <div class="dropdown-divider "></div>
                                    <a class="dropdown-item delete_data " href="javascript:void(0)" data-id="${admin['adminID']}"><span class="fa fa-trash text-danger"></span> Delete</a>
                                </div>`),
                                "</tr>");
                        });
                        // <a class='button-select btn btn-sm btn-primary'><i class='fas fa-eye'></i> View</a> | <a class='btnEdit btn btn-sm btn-success'><i class='fas fa-edit' data-toggle='modal-edit-admin'></i> Edit</a> | <a class='button-delete btn btn-sm btn-danger'><i class='fas fa-trash fa-cog'></i> Delete</a>
                    } else {
                        adminData = adminData.concat("<tr class='odd'>", "<td valign='top' colspan='5' class='dataTables_empty'>No Admin Account Available</td>", "</tr>");
                    }
                    $("#tableBody").html(adminData);
                    $('#dataTable').DataTable();
                },
                beforeSend: function() {
                    // Code to be executed before the request is sent
                    console.log('Request is about to be sent');
                },
                error: function(xhr, status, error) {
                    // Code to be executed if there is an error
                    console.error('Error:', error);
                },
                complete: function() {
                    // Code to be executed after the request is complete (success, error, or abort)
                    console.log('Request is complete');
                }


            });
        }

        $(".table").on("click", ".view_data", function(event) {
            event.preventDefault();
            var currentRow = $(this).closest("tr");
            var adminID = currentRow.find("td:eq(0)").html();
            $.each(adminList, function(key, admin) {
                console.log(admin);
                console.log(adminID == admin['adminID']);
                if (adminID == admin['adminID']) {
                    $('#modal-body-admin-id').val(admin['adminID']);
                    $('#modal-body-admin-name').val(admin['name']);
                    $('#modal-body-admin-user-name').val(admin['username']);
                    $('#modal-body-admin-email').val(admin['email']);
                    $('#modal-info-picture').val(admin['picture']);
                    $('#modal-info-admin').modal('toggle');
                    return;
                }
            });
            $("#modal-info-admin").modal("show");
        });

        $(".table").on("click", ".edit_data", function(event) {
            event.preventDefault();
            var currentRow = $(this).closest("tr");
            var adminID = currentRow.find("td:eq(0)").html();
            $.each(adminList, function(key, admin) {
                console.log(admin);
                console.log(adminID == admin['adminID']);
                if (adminID == admin['adminID']) {
                    $('#modal-body-edit-admin-id').html(admin['adminID']);
                    $('#modal-body-edit-name').html(admin['name']);
                    $('#modal-body-edit-user-name').html(admin['username']);
                    $('#modal-body-edit-email').html(admin['email']);
                    $("#modal-body-edit-status").val(admin['status']).change();
                    $('#modal-edit-admin').modal('toggle');
                    return;
                }
            });
            $("#modal-edit-admin").modal("show");
        });

        $(".table").on("click", ".delete_data", function(event) {
            event.preventDefault();
            var currentRow = $(this).closest("tr");
            var adminID = currentRow.find("td:eq(0)").html();
            $.each(adminList, function(key, admin) {
                console.log(admin);
                console.log(adminID == admin['adminID']);
                if (adminID == admin['adminID']) {
                    $('#modal-body-delete-admin-id').html(admin['adminID']);
                    $('#modal-body-delete-name').html(admin['name']);
                    $('#modal-body-delete-user-name').html(admin['username']);
                    $('#modal-body-delete-email').html(admin['email']);
                    $('#modal-delete-admin').modal('toggle');
                    return;
                }
            });
            $("#modal-delete-admin").modal("show");
        });
    });
</script>